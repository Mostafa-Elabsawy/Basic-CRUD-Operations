<main class="row mx-auto justify-content-evenly align-items-center g-3 mt-5 "style="width: 98%;" >
    <div class="col-12 col-xl-6  p-4 shadow border border-3 border-info rounded-5 my_form mb-2 mb-md-5">
        <p class="fs-1 text-center text-info mb-2 ">
            @if(add_or_update()){ Update} 
            @else {Add}  Product
        </p>
        <form class="text-light" #myForm="ngForm">
            <div class="mb-3">
                <label for="name" class="mb-1">Product Name</label>
                <input type="text" class="form-control" id="name" name="name" ngModel required/>
        </div>
        <div class="mb-3 ">
            <label for="price" class="mb-1">Price</label>
            <input type="number" class="form-control" id="price" name="price" ngModel required/>
        </div>
        <div class="mb-4">
            <label for="category" class="mb-1">Category</label>
            <input type="text" id="category" class="form-control" name="category" ngModel required />
        </div>
        <button type="submit" [class.hide]="add_or_update()" class="btn btn-primary w-100  mx-auto mb-3" (click)="createProduct(myForm.value)">Add</button>
        <button type="submit" [class.hide]="!(add_or_update())"  class="btn btn-warning w-100 mb-3" (click)="updateProduct(myForm.value)">Save</button>
    </form>
    </div>
    <table class="col-12 col-xl-6  table table-primary table-striped  ">
    <thead class="table-dark">
        <tr>
            <th>#</th>
            <th>name</th>
            <th>price</th>
            <th>categorey</th>
            <th>Edit</th>
            <th>Delete</th>
        </tr>
    </thead>
    <tbody>
        @for (item of Products(); track $index) {
            <tr>
                <td>{{ $index + 1 }}</td>
                <td>{{ item.name }}</td>
                <td class="text-success">{{ item.price }}$</td>
                <td>{{ item.category }}</td>
                <td>
                <button (click)="editProduct(item)">
                    <i class=" fa-solid fa-pen-to-square text-warning fa-xl " ></i>
                </button>
            </td>
            <td>
                <button (click)="deleteProduct(item._id)">
                    <i class=" fa-solid fa-trash text-danger fa-xl " ></i>
                </button>
            </td>
        </tr>
    }
    </tbody>
    </table>
</main>
<style>
    .hide
    {
        display: none;
    }
    table{
        width: clamp(300px, 98%, 800px);
    }
    td button{
        all:unset;
        cursor: pointer;
        transition: all 0.3s ease-in-out;
        border: none;
        outline: none;
    }
    td button:hover {
        transform: scale(1.1) rotate(45deg);
    }
    th,td{
        font-size: 0.9rem;
    }
/* Extra small screens (very small phones) */
@media (max-width: 480px) {
    th,td{
        font-size: 0.8rem;
    }
}
    .my_form {
        /* border: green 2px solid; */
        width: clamp( 300px , 98% , 600px );
    }
</style>